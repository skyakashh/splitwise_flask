<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Splitwise Flask</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <style>
    :root {
      --bg-primary: #f8fafc;
      --bg-secondary: #ffffff;
      --text-primary: #212529;
      --text-muted: #6c757d;
      --card-bg: rgba(255,255,255,0.96);
    }
    
    html.dark-mode {
      --bg-primary: #1a1a1a;
      --bg-secondary: #2d2d2d;
      --text-primary: #e0e0e0;
      --text-muted: #a0a0a0;
      --card-bg: rgba(45,45,45,0.95);
    }
    
    body.dark-mode {
      background-color: var(--bg-primary);
      color: var(--text-primary);
    }
    
    body.dark-mode .card {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border-color: #444;
    }
    
    body.dark-mode .navbar {
      background-color: #1a1a1a !important;
    }
  </style>
</head>
<body class="bg-light" id="app-body">

<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
  <div class="container">
    <a class="navbar-brand" href="/">Splitwise</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMain" aria-controls="navbarsMain" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsMain">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/users">Users</a></li>
        <li class="nav-item"><a class="nav-link" href="/groups">Groups</a></li>
        <li class="nav-item"><a class="nav-link" href="/expenses">Expenses</a></li>
        <li class="nav-item"><a class="nav-link" href="/balances">Balances</a></li>
        <li class="nav-item"><a class="nav-link" href="/charts">Charts</a></li>
        <li class="nav-item">
          <button class="btn btn-sm btn-outline-light ms-2" id="dark-mode-btn" onclick="toggleDarkMode()">üåô</button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<main class="container app-container">
    {% block content %}{% endblock %}
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Dark mode toggle
  function toggleDarkMode() {
    const html = document.documentElement;
    const body = document.body;
    const isDark = html.classList.toggle('dark-mode');
    body.classList.toggle('dark-mode');
    localStorage.setItem('darkMode', isDark ? 'true' : 'false');
    updateDarkModeButton();
  }
  
  function updateDarkModeButton() {
    const btn = document.getElementById('dark-mode-btn');
    const isDark = document.documentElement.classList.contains('dark-mode');
    btn.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
  }
  
  // Load dark mode preference on page load
  window.addEventListener('DOMContentLoaded', function() {
    const isDark = localStorage.getItem('darkMode') === 'true';
    if (isDark) {
      document.documentElement.classList.add('dark-mode');
      document.body.classList.add('dark-mode');
    }
    updateDarkModeButton();
  });
</script>

</body>
</html>
